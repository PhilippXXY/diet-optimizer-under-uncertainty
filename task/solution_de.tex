\documentclass[a4paper,12pt]{article}

\usepackage[applemac]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage[nospace,noadjust]{cite}
\usepackage{eurosym}
\usepackage{amssymb,amsmath,mathdots}
\usepackage{graphicx}
\usepackage{color}
\definecolor{kit}{cmyk}{1,0,0.6,0}
\usepackage{hyperref}
\hypersetup{
    pdftoolbar=true,
    pdfmenubar=true,
    pdfpagemode=UseOutlines,
    bookmarksnumbered=true,
    linktocpage=true,
    colorlinks=false,
    colorlinks=false
}

\setlength{\parindent}{0pt}
\parskip1.5ex

\begin{document}
\begin{titlepage}
    \begin{center}
        \vspace*{-80pt}
        %\includegraphics[scale=0.25]{img/kit_logo.png}

        \vspace*{40pt}

        Fakult\text{\"a}t f\text{\"u}r Wirtschaftswissenschaften \\[1ex]
        Institut f\text{\"u}r Operations Research (IOR) \\[1ex]
        Optimierungsans\text{\"a}tze unter Unsicherheit \\[1ex]
        Prof. Dr. Steffen Rebennack          

        \vspace*{25pt}   

        \vspace*{35pt}

        \fboxsep 40pt
        \fboxrule 6pt
        \fcolorbox{kit}{white}{
            \parbox{80mm}{
                \begin{center}
                    \Large{Abgabge Rechner\text{\"u}bung}\\ 
                    \Large{Wintersemester 2024/25}
                \end{center}
            }
        }

        \vspace*{40pt}

        \normalsize

        Vorname Nachname\\
        Matr. Nr.:\\
        Studiengang (B.Sc.)\\[4ex]

        und \\[4ex]

        Vorname Nachname\\
        Matr. Nr.:\\
        Studiengang (B.Sc.)\\[4ex]
    \end{center}
\end{titlepage}

\newpage

\section*{L\"osungen zu Aufgabe 3}

\subsection*{Aufgabenteil a}

\subsubsection*{1. Umwandeln des Ursprungsproblems in Standardform}

Das Ursprungsproblem muss in folgende Struktur umgewandelt werden:
\[
(\text{LO}) \quad \left\{ \min_{x} \left\{ \mathbf{c}^\top \mathbf{x} + d \; \middle| \; A\mathbf{x} \leq \mathbf{b} \right\} \right\}
\]
Entsprechend l\"asst sich dieses dann nun folgenderma\ss en darstellen:
\[
\begin{aligned}
    \min & \quad 0.22x_1 + 0.18x_2 + 0.07x_3 + 0.14x_4 + 0.55x_5 + 0.16x_6 + 0.54x_7 + 0.28x_8 + 3.2x_9 \\
    \text{s.t.} & \quad -52x_1 - 355x_2 - 26x_3 - 71x_4 - 354x_5 - 64x_6 - 536x_7 - 17x_8 - 121x_9 \leq -2400 \\
    & \quad -0.35x_1 - 7x_2 - x_3 - 2x_4 - 25x_5 - 3.5x_6 - 9x_7 - 2.5x_8 - 21x_9 \leq -56 \\
    & \quad -18x_1 - 307x_2 - 7x_3 - 24.5x_4 + 177x_5 + 12x_6 + 52x_7 + 6.5x_8 + 60.5x_9 \leq 0 \\
    & \quad -0.4x_1 - 0.6x_2 - 0.2x_3 - 0.11x_4 - 28.3x_5 - 3.5x_6 - 31.5x_7 - 0.3x_8 - 4x_9 \leq -50 \\
    & \quad 0.4x_1 + 0.6x_2 + 0.2x_3 + 0.11x_4 + 28.3x_5 + 3.5x_6 + 31.5x_7 + 0.3x_8 + 4x_9 \leq 70 & \\
    & \quad -7x_1 - 13x_2 - 41x_3 - 6x_4 - 800x_5 - 120x_6 - 214x_7 - 126x_8 - 3x_9 \leq -500 \\
    & \quad -30x_1 - 60x_2 - 53x_3 - 47x_4 - 300x_5 - 170x_6 - 370x_7 - 230x_8 - 130x_9 \leq -1100 \\
    & \quad -x_1 - x_3 - x_8 \leq -4 \\
    & \quad x_1, \dots, x_9 \leq 5 \\
    & \quad - x_1, \dots, - x_9 \leq 0 \\
    & \quad x_2 \leq 3 \\
    & \quad x_6 \leq 2 \\
    & \quad x_7 \leq 3 \\
    & \quad - x_9 \leq - 1
\end{aligned}
\]

\subsubsection*{2. Bilden der nominalen Datenmatrix $D^0$}

Mit den vorherigen \"Uberlegungen l\"asst sich ganz einfach die nominale Datenmatrix $D^0$ dieser Struktur
\[
D^0 = \begin{pmatrix}\begin{array}{c|c}
(c^0)^\top & d^0 \\ \hline
A^0 & b^0
\end{array}\end{pmatrix}
\]
bilden.

Nach dem Streichen von Zeilen ohne Unsicherheiten lautet diese dann wie folgt:
\[
D^0 = \begin{pmatrix}
0.22 & 0.18 & 0.07 & 0.14 & 0.55 & 0.16 & 0.54 & 0.28 & 3.2 & 0 \\ % Zielfunktion
-52 & -355 & -26 & -71 & -354 & -64 & -536 & -17 & -121 & -2400 \\ % Kalorien
-0.35 & -7 & -1 & -2 & -25 & -3.5 & -9 & -2.5 & -21 & -56 \\ % Mind. Proteine
-0.4 & -0.6 & -0.2 & -0.11 & -28.3 & -3.5 & -31.5 & -0.3 & -4 & -50 \\ % Mind. Fett
0.4 & 0.6 & 0.2 & 0.11 & 28.3 & 3.5 & 31.5 & 0.3 & 4 & 70 \\ % Max. Fett
-7 & -13 & -41 & -6 & -800 & -120 & -214 & -126 & -3 & -500 \\ % Mind. Calcium
-30 & -60 & -53 & -47 & -300 & -170 & -370 & -230 & -130 & -1100 \\ % Mind. Vit. B2
\end{pmatrix}
\]

\subsubsection*{3. Bilden der Shiftmatrizen $D^\ell$}
Die Anzahl der Shiftmatrizen $D^\ell$ ergibt sich aus der Anzahl der Unsicherheiten. Alle Unsicherheiten lassen sich aus den Tabellen entnehmen.

F\"ur die Shiftmatrizen $D^\ell$ gilt es, die Unsicherheiten ggf. durch Multiplikation mit dem entsprechenden Koeffizienten der Zielfunktion in absolute Abweichungen umzuwandeln.
Wie in \"{U}bung 3f und Vorlesung 7 (Abschnitt 5.3) erw\"{a}hnt, nutzt man f\"{u}r jede Unsicherheit in einer Zeile eine neue Shiftmatrix.
Durch diesen Ansatz lassen sich die Unsicherheiten eines Parameters $x_{\ell \in [1,9]}$ und des Mindestbedarfs $b$ in einer Shiftmatrix $D^\ell$ darstellen. Au\ss erdem ist es zu Vereinfachungszwecken erlaubt, Zeilen, in denen keine Unsicherheiten auftreten, zu streichen.

Die Shiftmatrizen lauten dann wie folgt:

\[
D^1_{x_1} = \begin{pmatrix}
0.06 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0.07 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Proteine
0.8 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0.8 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Max. Fette
1.4 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Calcium
4.5 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^2_{x_2} = \begin{pmatrix}
0 & 0.027 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0.7 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Proteine
0 & 0.12 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0 & 6.5 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Calcium
0 & 12 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^3_{x_3} = \begin{pmatrix} 
0 & 0 & 0.014 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0.2 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Proteine
0 & 0 & 0.04 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0 & 0 & 8.2 & 0 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Calcium
0 & 0 & 10.6 & 0 & 0 & 0 & 0 & 0 & 0 & 0
\end{pmatrix}
\]
\[
D^4_{x_4} = \begin{pmatrix}
0 & 0 & 0 & 0.04 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0.1 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Proteine
0 & 0 & 0 & 0.0022 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0.12 & 0 & 0 & 0 & 0 & 0 & 0 \\ % Calcium
0 & 0 & 0 & 0.47 & 0 & 0 & 0 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^5_{x_5} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0.1 & 0 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0 & 1.77 & 0 & 0 & 0 & 0 & 0 \\ % Proteine
0 & 0 & 0 & 0 & 0.035 & 0 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0 & 80 & 0 & 0 & 0 & 0 & 0 \\ % Calcium
0 & 0 & 0 & 0 & 15 & 0 & 0 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^6_{x_6} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0 & 0.04 & 0 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0 & 0 & 0.35 & 0 & 0 & 0 & 0 \\ % Proteine
0 & 0 & 0 & 0 & 0 & 0.35 & 0 & 0 & 0 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0 & 0 & 24 & 0 & 0 & 0 & 0 \\ % Calcium
0 & 0 & 0 & 0 & 0 & 8.5 & 0 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^7_{x_7} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0 & 0 & 0.216 & 0 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0 & 0 & 0 & 0.9 & 0 & 0 & 0 \\ % Proteine
0 & 0 & 0 & 0 & 0 & 0 & 3.15 & 0 & 0 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0 & 0 & 0 & 21.4 & 0 & 0 & 0 \\ % Calcium
0 & 0 & 0 & 0 & 0 & 0 & 37 & 0 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^8_{x_8} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0.1 & 0 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0.25 & 0 & 0 \\ % Proteine
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0.045 & 0 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0 & 0 & 0 & 0 & 12.6 & 0 & 0 \\ % Calcium
0 & 0 & 0 & 0 & 0 & 0 & 0 & 46 & 0 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^9_{x_9} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1.28 & 0 \\ % Zielfunktion
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 3.15 & 0 \\ % Proteine
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 1.2 & 0 \\ % Mind. Fette
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0.6 & 0 \\ % Calcium
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 19.5 & 0 % Vit. B2
\end{pmatrix}
\]
\[
D^{10}_{b} = \begin{pmatrix}
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 350 \\ % b_1
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 10 \\ % b_2
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 10 \\ % b_4
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 200 \\ % b_6
0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 0 & 300 % b_7
\end{pmatrix}
\]

Insgesamt gilt dann:

\[
\mathcal{U} = \left\{ D^0 + \sum_{\ell=1}^{10}D^{\ell} \zeta_{\ell} \;\vert\; \zeta_{\ell} \in [-1, 1] \right\}
\]

\subsubsection*{4. Bilden des robusten Pendants}

Mit Hilfe der Unsicherheitsmenge aus dem vorherigen Schritt l\"asst sich nun das robuste Pendant des Ursprungsproblems bilden:
\[
\begin{aligned}
    &\min && \sup_{(c, d, \cdot) \in \mathcal{U}} \left(c^\top x + d\right) \\
    &\text{s.t.} && Ax \leq b \quad \forall (\cdot, A, b) \in \mathcal{U}, \\
    & && x \geq 0
\end{aligned}
\]
In diesem Fall ergibt es sich zu:
\[
\begin{aligned}
   \begin{aligned}
    \min & \quad \textcolor{blue}{c^\top x \quad \forall (c^\top, \cdot,\cdot,\cdot) \in \mathcal{U}} \\ % TODO
    \text{s.t.} & \quad \textcolor{blue}{a_1^\top x \leq b_1 \quad \forall (\cdot, \cdot, a_1^\top, b_1) \in \mathcal{U}} \\
    & \quad \textcolor{blue}{a_2^\top x \leq b_2 \quad \forall (\cdot, \cdot, a_2^\top, b_2) \in \mathcal{U}} \\
    & \quad -18x_1 - 307x_2 - 7x_3 - 24.5x_4 + 177x_5 + 12x_6 + 52x_7 + 6.5x_8 + 60.5x_9 \leq 0 \\
    & \quad \textcolor{blue}{a_4^\top x \leq b_4 \quad \forall (\cdot, \cdot, a_4^\top, b_4) \in \mathcal{U}} \\
    & \quad \textcolor{blue}{a_5^\top x \leq b_5 \quad \forall (\cdot, \cdot, a_5^\top, b_5) \in \mathcal{U}} \\
    & \quad \textcolor{blue}{a_6^\top x \leq b_6 \quad \forall (\cdot, \cdot, a_6^\top, b_6) \in \mathcal{U}} \\
    & \quad \textcolor{blue}{a_7^\top x \leq b_7 \quad \forall (\cdot, \cdot, a_7^\top, b_7) \in \mathcal{U}}\\
    & \quad -x_1 - x_3 - x_8 \leq -4 \\
    & \quad x_1, \dots, x_9 \leq 5 \\
    & \quad - x_1, \dots, - x_9 \leq 0 \\
    & \quad x_2 \leq 3 \\
    & \quad x_6 \leq 2 \\
    & \quad x_7 \leq 3 \\
    & \quad - x_9 \leq - 1
\end{aligned}
\end{aligned}
\]

\subsubsection*{5. Herleitung eines LP-\"Aquivalents}

Es wird exemplarisch die erste Nebenbedingung umgewandelt.
Man geht nach folgendem Ansatz durch Einsetzen der Definition von $\mathcal{U}$ in die Nebenbedingung vor:
\[
(a_1^0)^\top x + \zeta_1 (a_1^1)^\top x + \dots + \zeta_9 (a_1^9)^\top x + \underbrace{\zeta_{10} (a_1^{10})^\top x}_{= 0} \leq b_1^0 + \underbrace{\zeta_1 b_1^1}_{=0} + \dots +\zeta_{10} b_1^{10} \quad \forall \zeta \in [-1, 1]
\]
Nach dem Einsetzen der entsprechenden Werte erh\"alt man folgendes:



\newpage

\end{document}   